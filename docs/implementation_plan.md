# –ü–æ—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤–æ–π ML-—Å–∏—Å—Ç–µ–º—ã

> –¢–µ–æ—Ä–∏—è –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

## –§–∏–ª–æ—Å–æ—Ñ–∏—è –ø–æ–¥—Ö–æ–¥–∞

–õ—é–±–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –∫–∞–∫ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å checkpoints**, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≥–∏–ø–æ—Ç–µ–∑—É –æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –∫ –≥–µ–Ω–µ—Ä–∞–ª–∏–∑–∞—Ü–∏–∏. –ú—ã –Ω–µ –≤–µ—Ä–∏–º –≤ –µ–¥–∏–Ω–∏—á–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ train/test ‚Äî –º—ã –≤–µ—Ä–∏–º –≤ **—Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è** —á–µ—Ä–µ–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ —Å—Ç—Ä–æ–≥–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ç–±–æ—Ä–∞.

---

## –≠—Ç–∞–ø 1: –ü–µ—Ä–µ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

### –¶–µ–ª—å
–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –º–æ–¥–µ–ª—å **–Ω–∞–ø—Ä—è–º—É—é –æ–±—É—á–∞–ª–∞—Å—å —Ç—Ä–µ–±—É–µ–º–æ–π –ª–æ–≥–∏–∫–µ**: –ø—Ä–∏–±—ã–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∑—è—Ç–∞ –±—ã—Å—Ç—Ä–æ, –∏–Ω–∞—á–µ —Å–¥–µ–ª–∫–∞ —Ç–µ—Ä—è–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### 1.1 –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```python
# –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ OHLCV –¥–∞–Ω–Ω—ã–µ
df = pd.read_csv('XAUUSD_H1.csv', sep=';', parse_dates=['Date'])
df['close'] = df['Close'].astype(float)
df.set_index('Date', inplace=True)
df = df.dropna()
```

#### 1.2 –ú—É–ª—å—Ç–∏—Ñ—Ä–µ–π–º–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
–ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ **15-–º–∏–Ω—É—Ç–Ω—ã—Ö —Å–≤–µ—á–∞—Ö**, –Ω–æ –≤ –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å **–≤—ã—Å—à–∏—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤**:

- –¶–µ–Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ High/Low
- –î–Ω–µ–≤–Ω–æ–π RSI
- 4-—á–∞—Å–æ–≤–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –ö–æ–Ω—Ç–µ–∫—Å—Ç –±–µ–∑ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

```python
# –ü—Ä–∏–º–µ—Ä: –¥–Ω–µ–≤–Ω–æ–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∫–∞–∫ –ø—Ä–∏–∑–Ω–∞–∫
features['daily_std'] = close.rolling(96).std()  # 96 * 15min = 1 –¥–µ–Ω—å
```

#### 1.3 –¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º —à—Ç—Ä–∞—Ñ–æ–º
–í–º–µ—Å—Ç–æ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ Buy/Sell –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –≤–µ–ª–∏—á–∏–Ω–∞**, –æ—Ç—Ä–∞–∂–∞—é—â–∞—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–≤–∏–∂–µ–Ω–∏—è —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —à—Ç—Ä–∞—Ñ–∞:

```
Target = (Max_Profit_Within_N_Bars - Current_Price) / (ATR_Current)
```

–ì–¥–µ:
- `Max_Profit_Within_N_Bars` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞, –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞—è –≤ —Ç–µ—á–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö **20-—Ç–∏ 15-–º–∏–Ω—É—Ç–Ω—ã—Ö –±–∞—Ä–æ–≤** (—ç–º—É–ª–∏—Ä—É—è –≤–∑—è—Ç–∏–µ –ø—Ä–æ—Ñ–∏—Ç–∞)
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–µ –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞–µ—Ç –ø–æ—Ä–æ–≥ –≤ **1.5 * ATR**, —Ü–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–Ω–∏–∂–∞–µ—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤—Ä–µ–º–µ–Ω–∏

**–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:** –ú–æ–¥–µ–ª—å –∫–æ–¥–∏—Ä—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ "–ø—Ä–∏–±—ã–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∑—è—Ç–∞ –±—ã—Å—Ç—Ä–æ".

#### 1.4 –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  In-Sample  ‚îÇ Out-of-     ‚îÇ Out-of-Time ‚îÇ
‚îÇ   (60%)     ‚îÇ  Sample     ‚îÇ    (20%)    ‚îÇ
‚îÇ             ‚îÇ   (20%)     ‚îÇ             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     Train         Valid         Test
```

**–ö—Ä–∏—Ç–∏—á–Ω–æ:** –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è **–ø–æ –≤—Ä–µ–º–µ–Ω–∏** –±–µ–∑ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è.

```python
train_end = len(data) * 0.6
valid_end = len(data) * 0.8

IS = data[:train_end]   # In-Sample
OOS = data[train_end:valid_end]  # Out-of-Sample
OOT = data[valid_end:]  # Out-of-Time
```

---

## –≠—Ç–∞–ø 2: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤

### –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Ç—Ä–æ–ª—è –æ–±–æ–±—â–∞—é—â–µ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ **walk-forward –≤–∞–ª–∏–¥–∞—Ü–∏—é** —Å —Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–∞—Ö.

### –§–∏–ª–æ—Å–æ—Ñ–∏—è
–°–∏—Å—Ç–µ–º–∞ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ ‚Äî —ç—Ç–æ **–Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**, –∞ **–∞–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è**. –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–∞—Ö, –æ–Ω–∞ –Ω–µ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–∞.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### 2.1 –†–∞–∑–±–∏–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```
In-Sample: 10 –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ (IS-1, IS-2, ..., IS-10)
Out-of-Sample: 5 –±–ª–æ–∫–æ–≤ –≤ –°–õ–£–ß–ê–ô–ù–û–ú –ø–æ—Ä—è–¥–∫–µ (OOS-A, OOS-E, OOS-C, OOS-B, OOS-D)
```

**–ü–æ—á–µ–º—É —Å–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫?** –≠—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ –∫ **—Ä–∞–∑–ª–∏—á–Ω—ã–º —Ä—ã–Ω–æ—á–Ω—ã–º —Ä–µ–∂–∏–º–∞–º**.

#### 2.2 Walk-Forward –ø—Ä–æ—Ü–µ—Å—Å
```
–ò—Ç–µ—Ä–∞—Ü–∏—è 1:
  Train: IS-1
  Validate: OOS-A ‚úÖ
  ‚Üí –ï—Å–ª–∏ PPT > 0 –∏ Drawdown < 5%

–ò—Ç–µ—Ä–∞—Ü–∏—è 2:
  Train: IS-1 + OOS-A
  Validate: OOS-E ‚úÖ
  
–ò—Ç–µ—Ä–∞—Ü–∏—è 3:
  Train: IS-1 + OOS-A + OOS-E
  Validate: OOS-C ‚úÖ
  
...

–ò—Ç–µ—Ä–∞—Ü–∏—è 5:
  Train: IS-1 + OOS-A + OOS-E + OOS-C + OOS-B
  Validate: OOS-D ‚ùå FAIL
```

#### 2.3 –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
–î–ª—è –∫–∞–∂–¥–æ–≥–æ OOS-–±–ª–æ–∫–∞:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ü–æ—Ä–æ–≥ |
|---------|-------|
| **PPT** (Profit Per Trade) | > 0 |
| **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞** | < 5% |
| **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞** | > 0.5 |

#### 2.4 –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
–ü—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ –Ω–∞ **–ª—é–±–æ–º** OOS-–±–ª–æ–∫–µ:

1. **–°–±—Ä–æ—Å –º–æ–¥–µ–ª–∏:** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–Ω–æ–≤–æ
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞ –≤ IS:** –°–ª—É—á–∞–π–Ω—ã–µ —Å–¥–≤–∏–≥–∏ —Ü–µ–Ω –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Å–ø—Ä–µ–¥–∞
3. **Penalties –∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å:** –£—Å–∏–ª–µ–Ω–∏–µ L1-—Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏–∏
4. **–ü–æ–≤—Ç–æ—Ä:** –ü—Ä–æ—Ü–µ—Å—Å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å IS-1

```python
if validation_failed:
    # –†–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    model = CatBoostClassifier(**params)
    
    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞
    IS_noisy = IS.copy()
    IS_noisy['close'] += np.random.uniform(-spread, spread, len(IS))
    
    # –£—Å–∏–ª–µ–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏–∏
    params['l2_leaf_reg'] += 1
    
    # –ü–æ–≤—Ç–æ—Ä
    train_with_checkpoints(IS_noisy, OOS_blocks)
```

#### 2.5 –£—Å–ø–µ—à–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
**–£—Å–ø–µ—à–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ—Ö 5 OOS-–±–ª–æ–∫–æ–≤ –≤ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ** ‚Äî –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –∫ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—é.

---

## –≠—Ç–∞–ø 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –≤ –æ–±—É—á–∞—é—â–∏–π —Ü–∏–∫–ª

### –¶–µ–ª—å
–ú–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞ –æ–±—É—á–∞—Ç—å—Å—è **—Å —É—á–µ—Ç–æ–º —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π –ª–æ–≥–∏–∫–∏**: Stop-Loss, Take-Profit, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.

### –§–∏–ª–æ—Å–æ—Ñ–∏—è
**–ú–æ–¥–µ–ª—å –Ω–µ –≤—ã–±–∏—Ä–∞–µ—Ç —É—Ä–æ–≤–Ω–∏ SL/TP** ‚Äî –æ–Ω–∏ –∑–∞–¥–∞—é—Ç—Å—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∑–∞–¥–∞—á—É ML-–º–æ–¥–µ–ª–∏: –æ–Ω–∞ –ø—Ä–æ—Å—Ç–æ –∏—â–µ—Ç —Å–∏–≥–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å –≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –≤—ã–∑–æ–≤—É—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –∞–º–ø–ª–∏—Ç—É–¥—ã.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### 3.1 –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
```python
# –†–∞—Å—á–µ—Ç ATR (Average True Range)
high = data['high']
low = data['low']
close = data['close']

tr = np.maximum(high - low, 
                np.maximum(abs(high - close.shift(1)),
                          abs(low - close.shift(1))))
ATR = tr.rolling(14).mean()

# Stop-Loss –∏ Take-Profit
Stop_Loss = Entry_Price - 2.0 * ATR
Take_Profit = Entry_Price + 2.5 * ATR
```

#### 3.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ–±—É—á–µ–Ω–∏–µ
–í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—É—á–µ–Ω–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è **–∫–∞–∂–¥–æ–≥–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è SL/TP:

```python
for signal in signals:
    entry_price = signal['price']
    current_atr = ATR[signal['time']]
    
    sl = entry_price - 2.0 * current_atr
    tp = entry_price + 2.5 * current_atr
    
    # –°–∏–º—É–ª—è—Ü–∏—è —Å–¥–µ–ª–∫–∏
    outcome = simulate_trade(entry_price, sl, tp, 
                            future_prices, 
                            max_bars=20)
    
    if outcome == 'timeout':
        # –®—Ç—Ä–∞—Ñ –∑–∞ –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–Ω—É—é —Å–¥–µ–ª–∫—É
        signal['target'] *= 0.5
```

#### 3.3 –í—Ä–µ–º–µ–Ω–Ω–æ–π —à—Ç—Ä–∞—Ñ
–ï—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –Ω–∏ SL, –Ω–∏ TP –≤ —Ç–µ—á–µ–Ω–∏–µ **20 –±–∞—Ä–æ–≤** (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5 —á–∞—Å–æ–≤ –Ω–∞ H1), —Å–¥–µ–ª–∫–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–∫—Ä—ã—Ç–æ–π –ø–æ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–µ —Å **—à—Ç—Ä–∞—Ñ–æ–º** –∫ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–æ–¥–µ–ª—å —É—á–∏—Ç—Å—è –∏—Å–∫–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ **–±—ã—Å—Ç—Ä–æ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É**.

#### 3.4 –†–∞—Å—á–µ—Ç –æ–±—ä–µ–º–∞ –ø–æ–∑–∏—Ü–∏–∏
```python
# –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É
risk_per_trade = 0.005  # 0.5% –æ—Ç –∫–∞–ø–∏—Ç–∞–ª–∞
capital = 10000

# –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ Stop-Loss
sl_distance = abs(entry_price - sl)

# –û–±—ä–µ–º –ø–æ–∑–∏—Ü–∏–∏
lot_size = (capital * risk_per_trade) / sl_distance
```

---

## –≠—Ç–∞–ø 4: –û—Ç–±–æ—Ä –∏ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è –º–æ–¥–µ–ª–∏

### –¶–µ–ª—å
–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å, —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–µ–¥—à—É—é –≤—Å–µ OOS-–±–ª–æ–∫–∏, –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ **—Ñ–∏–Ω–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É** –Ω–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö Out-of-Time –¥–∞–Ω–Ω—ã—Ö.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### 4.1 –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
–ú–æ–¥–µ–ª—å –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∫ Out-of-Time —Ç–µ—Å—Ç—É, –µ—Å–ª–∏:

1. ‚úÖ –ü—Ä–æ—à–ª–∞ **–≤—Å–µ 5 OOS-–±–ª–æ–∫–æ–≤** –≤ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
2. ‚úÖ PPT > 0 –Ω–∞ –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ
3. ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ < 5% –Ω–∞ –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ

#### 4.2 Out-of-Time —Ç–µ—Å—Ç
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Training + OOS   ‚îÇ  Out-of-Time    ‚îÇ
‚îÇ     (80%)         ‚îÇ     (20%)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    –û–±—É—á–µ–Ω–∏–µ/Valid      –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç
```

**OOT –¥–∞–Ω–Ω—ã–µ** ‚Äî —ç—Ç–æ **—Å–∞–º—ã–µ —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ**, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–∏–∫–æ–≥–¥–∞** –Ω–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∏ –Ω–∏ –≤ –æ–±—É—á–µ–Ω–∏–∏, –Ω–∏ –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

#### 4.3 –ú–µ—Ç—Ä–∏–∫–∏ –Ω–∞ OOT
```python
results = test_on_oot(model, OOT_data)

metrics = {
    'total_return': results['cumulative_profit'],
    'max_drawdown': results['max_drawdown'],
    'win_rate': results['profitable_trades'] / results['total_trades'],
    'profit_factor': results['gross_profit'] / results['gross_loss'],
    'recovery_factor': results['net_profit'] / results['max_drawdown']
}
```

#### 4.4 –ö–ª—é—á–µ–≤–æ–π –∫—Ä–∏—Ç–µ—Ä–∏–π
**–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ OOT –ø—Ä–∏ –ø—Ä–æ—Å–∞–¥–∫–µ –Ω–µ –±–æ–ª–µ–µ 7-10%.**

–ï—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:
```python
if metrics['total_return'] > 0 and metrics['max_drawdown'] <= 0.10:
    # –ú–æ–¥–µ–ª—å —É—Å–ª–æ–≤–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–∞
    save_model(model, "production_ready")
```

#### 4.5 –ö–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ **–≤—Å–µ—Ö** –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–∏:

```python
model_config = {
    'model': model,
    'periods': periods,
    'meta_periods': meta_periods,
    'n_clusters': n_clusters,
    'markup': markup,
    'sl_multiplier': 2.0,
    'tp_multiplier': 2.5,
    'oot_metrics': metrics
}

pickle.dump(model_config, open('model_v1.pkl', 'wb'))
```

---

## –≠—Ç–∞–ø 5: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∏ live-–≤–∞–ª–∏–¥–∞—Ü–∏—è

### –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å **–æ—Ç–¥–µ–ª—å–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è—é—â–∏–π –º–æ–¥—É–ª—å** –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–∞ –¥–µ–º–æ-—Å—á–µ—Ç–µ –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ **—Ñ–æ—Ä–≤–∞—Ä–¥-—Ç–µ—Å—Ç** –º–∏–Ω–∏–º—É–º 6 –º–µ—Å—è—Ü–µ–≤.

### –§–∏–ª–æ—Å–æ—Ñ–∏—è
**–ù–∏–∫–∞–∫–∏—Ö –∞–¥–∞–ø—Ç–∞—Ü–∏–π –º–æ–¥–µ–ª–∏ –ø–æ–¥ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.** –ú–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç **—Å—Ç–∞—Ç–∏—á–Ω–æ** ‚Äî –µ—Å–ª–∏ –æ–Ω–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞—Ç—å, —ç—Ç–æ —Å–∏–≥–Ω–∞–ª –∫ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ, –∞ –Ω–µ –∫ –ø–æ–¥—Å—Ç—Ä–æ–π–∫–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### 5.1 –ò—Å–ø–æ–ª–Ω—è—é—â–∏–π –º–æ–¥—É–ª—å
```python
class TradingExecutor:
    def __init__(self, model_config):
        self.model = load_model(model_config['model'])
        self.periods = model_config['periods']
        self.sl_multiplier = model_config['sl_multiplier']
        self.tp_multiplier = model_config['tp_multiplier']
        
    def on_new_bar(self, market_data):
        # 1. –†–∞—Å—á–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
        features = calculate_features(market_data, self.periods)
        
        # 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞
        prediction = self.model.predict_proba(features)
        
        # 3. –ñ–µ—Å—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è
        if prediction[1] > 0.75:  # –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
            entry_price = market_data['close']
            atr = calculate_atr(market_data)
            
            sl = entry_price - self.sl_multiplier * atr
            tp = entry_price + self.tp_multiplier * atr
            
            # 4. –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏
            self.open_position(entry_price, sl, tp)
```

#### 5.2 –ñ–µ—Å—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞
- **–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏:** –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–æ–≥–Ω–æ–∑ > 0.75
- **SL/TP:** –ü–æ —Ñ–æ—Ä–º—É–ª–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ ATR
- **–û–¥–∏–Ω —Å–∏–≥–Ω–∞–ª = –æ–¥–Ω–∞ —Å–¥–µ–ª–∫–∞:** –ë–µ–∑ —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è, –±–µ–∑ –ú–∞—Ä—Ç–∏–Ω–≥–µ–π–ª–∞

#### 5.3 –§–æ—Ä–≤–∞—Ä–¥-—Ç–µ—Å—Ç –Ω–∞ –¥–µ–º–æ
**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –†–∞–±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ —Ñ–æ—Ä–≤–∞—Ä–¥-—Ç–µ—Å—Ç–∞ **–º–∏–Ω–∏–º—É–º 6 –º–µ—Å—è—Ü–µ–≤** —Å:

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ |
|---------|-----------|
| **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ** | > 0 |
| **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞** | < 1.5 * OOT_drawdown |
| **Win Rate** | –°—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–ª–∏ —Ä–∞—Å—Ç—É—â–∏–π |

```python
forward_test_results = {
    'start_date': '2024-01-01',
    'end_date': '2024-07-01',
    'total_trades': 250,
    'win_rate': 0.58,
    'avg_profit_per_trade': 12.5,
    'max_drawdown': 0.08,  # 8% (OOT –±—ã–ª–æ 7%)
    'sharpe_ratio': 1.2
}

if (forward_test_results['avg_profit_per_trade'] > 0 and
    forward_test_results['max_drawdown'] < 1.5 * OOT_drawdown):
    print("‚úÖ –ú–æ–¥–µ–ª—å –≥–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ")
```

#### 5.4 –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å
- ‚ùå **–ù–µ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å** –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚ùå **–ù–µ –º–µ–Ω—è—Ç—å** –ø–æ—Ä–æ–≥–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ "–Ω–∞ –ª–µ—Ç—É"
- ‚ùå **–ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å** –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

---

## –≠—Ç–∞–ø 6: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

### –¶–µ–ª—å
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –º–æ–¥–µ–ª—å **—É—Å—Ç–∞—Ä–µ–ª–∞**, –∏ —Ç—Ä–µ–±–æ–≤–∞—Ç—å **–ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏**.

### –§–∏–ª–æ—Å–æ—Ñ–∏—è
**–õ—é–±–∞—è –º–æ–¥–µ–ª—å —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç.** –†—ã–Ω–æ–∫ –º–µ–Ω—è–µ—Ç—Å—è, –∏ –º–æ–¥–µ–ª—å, –æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –°–∏—Å—Ç–µ–º–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ **–∑–∞—â–∏—Ç–∞ –æ—Ç —Ç–∏—Ö–æ–π —Å–º–µ—Ä—Ç–∏**, –∫–æ–≥–¥–∞ —É–±—ã—Ç–∫–∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### 6.1 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ live-–º–µ—Ç—Ä–∏–∫
```python
class DegradationMonitor:
    def __init__(self, historical_drawdown, historical_winrate):
        self.max_drawdown_threshold = historical_drawdown * 1.2
        self.max_losing_streak = 10
        self.historical_winrate = historical_winrate
        
    def check_degradation(self, current_metrics):
        # 1. –ü—Ä–æ—Å–∞–¥–∫–∞
        if current_metrics['drawdown'] > self.max_drawdown_threshold:
            return 'STOP: Drawdown exceeded'
        
        # 2. –°–µ—Ä–∏—è —É–±—ã—Ç–∫–æ–≤
        if current_metrics['losing_streak'] >= self.max_losing_streak:
            return 'STOP: Too many consecutive losses'
        
        # 3. –û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–∏–±—ã–ª—å
        expected_profit = self.historical_winrate * avg_profit_per_trade
        if current_metrics['actual_profit'] < 0.5 * expected_profit:
            return 'WARNING: Underperforming'
        
        return 'OK'
```

#### 6.2 –¢—Ä–∏–≥–≥–µ—Ä—ã –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

| –¢—Ä–∏–≥–≥–µ—Ä | –ü–æ—Ä–æ–≥ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|-------|----------|
| **–ü—Ä–æ—Å–∞–¥–∫–∞** | > 120% –æ—Ç OOT | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ |
| **–°–µ—Ä–∏—è —É–±—ã—Ç–∫–æ–≤** | 10 —Å–¥–µ–ª–æ–∫ –ø–æ–¥—Ä—è–¥ | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ |
| **–ü–∞–¥–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏** | < 50% –æ—Ç –æ–∂–∏–¥–∞–µ–º–æ–π | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ |

#### 6.3 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
```python
while True:
    # –¢–æ—Ä–≥–æ–≤–ª—è
    trade_result = execute_trade()
    update_metrics(trade_result)
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏
    status = monitor.check_degradation(current_metrics)
    
    if status.startswith('STOP'):
        print(f"üõë {status}")
        print("–¢–æ—Ä–≥–æ–≤–ª—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞.")
        break
    
    if status.startswith('WARNING'):
        print(f"‚ö†Ô∏è {status}")
```

#### 6.4 –ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
–ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ:

1. **–ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω:** –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ —Ä—ã–Ω–∫–µ?
2. **–°–±–æ—Ä –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:** –í–∫–ª—é—á–∞—è –ø–µ—Ä–∏–æ–¥ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏
3. **–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞:** –° –Ω—É–ª—è, —Å —ç—Ç–∞–ø–∞–º–∏ 1-5
4. **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π OOT-—Ç–µ—Å—Ç:** –ù–∞ —Å–∞–º—ã—Ö —Å–≤–µ–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö

```python
def retrain_pipeline():
    # 1. –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    new_data = load_fresh_data(since=last_retrain_date)
    
    # 2. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏
    full_data = pd.concat([historical_data, new_data])
    
    # 3. –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±—É—á–µ–Ω–∏—è
    new_model = run_full_pipeline(full_data)
    
    # 4. OOT-—Ç–µ—Å—Ç
    oot_result = test_on_fresh_oot(new_model)
    
    if oot_result['valid']:
        deploy_to_demo(new_model)
    else:
        print("–ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –Ω–µ –ø—Ä–æ—à–ª–∞ OOT-—Ç–µ—Å—Ç")
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —ç—Ç–∞–ø–æ–≤: Full Pipeline

### –°—Ö–µ–º–∞ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     –≠–¢–ê–ü 1: –î–∞–Ω–Ω—ã–µ                            ‚îÇ
‚îÇ  ‚Ä¢ –ó–∞–≥—Ä—É–∑–∫–∞ OHLCV                                             ‚îÇ
‚îÇ  ‚Ä¢ –ú—É–ª—å—Ç–∏—Ñ—Ä–µ–π–º–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏                                    ‚îÇ
‚îÇ  ‚Ä¢ –¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º —à—Ç—Ä–∞—Ñ–æ–º                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   –≠–¢–ê–ü 2: –ß–µ–∫–ø–æ–∏–Ω—Ç—ã                           ‚îÇ
‚îÇ  ‚Ä¢ 10 –±–ª–æ–∫–æ–≤ In-Sample                                        ‚îÇ
‚îÇ  ‚Ä¢ 5 –±–ª–æ–∫–æ–≤ Out-of-Sample (—Å–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫)                 ‚îÇ
‚îÇ  ‚Ä¢ Walk-forward —Å —Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                –≠–¢–ê–ü 3: –†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç                        ‚îÇ
‚îÇ  ‚Ä¢ SL = Entry - 2.0 * ATR                                     ‚îÇ
‚îÇ  ‚Ä¢ TP = Entry + 2.5 * ATR                                     ‚îÇ
‚îÇ  ‚Ä¢ –í—Ä–µ–º–µ–Ω–Ω–æ–π —à—Ç—Ä–∞—Ñ –∑–∞ —Ç–∞–π–º–∞—É—Ç (20 –±–∞—Ä–æ–≤)                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 –≠–¢–ê–ü 4: –û—Ç–±–æ—Ä –º–æ–¥–µ–ª–∏                          ‚îÇ
‚îÇ  ‚Ä¢ –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ—Ö OOS-–±–ª–æ–∫–æ–≤                                ‚îÇ
‚îÇ  ‚Ä¢ Out-of-Time —Ç–µ—Å—Ç (—Å–∞–º—ã–µ —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ)                     ‚îÇ
‚îÇ  ‚Ä¢ –ö—Ä–∏—Ç–µ—Ä–∏–π: –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å > 0, Drawdown < 10%                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ               –≠–¢–ê–ü 5: Live-–≤–∞–ª–∏–¥–∞—Ü–∏—è                          ‚îÇ
‚îÇ  ‚Ä¢ –î–µ–º–æ-—Å—á–µ—Ç –º–∏–Ω–∏–º—É–º 6 –º–µ—Å—è—Ü–µ–≤                                ‚îÇ
‚îÇ  ‚Ä¢ –°—Ç–∞—Ç–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å (–±–µ–∑ –∞–¥–∞–ø—Ç–∞—Ü–∏–π)                           ‚îÇ
‚îÇ  ‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–∞—Ç–æ–∂–∏–¥–∞–Ω–∏—è –∏ –ø—Ä–æ—Å–∞–¥–∫–∏                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ             –≠–¢–ê–ü 6: –°–∏—Å—Ç–µ–º–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏                        ‚îÇ
‚îÇ  ‚Ä¢ –ê–≤—Ç–æ—Å—Ç–æ–ø –ø—Ä–∏ –ø—Ä–æ—Å–∞–¥–∫–µ > 120% –æ—Ç OOT                        ‚îÇ
‚îÇ  ‚Ä¢ –¢—Ä–∏–≥–≥–µ—Ä –Ω–∞ 10 —É–±—ã—Ç–æ—á–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ –ø–æ–¥—Ä—è–¥                      ‚îÇ
‚îÇ  ‚Ä¢ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

### –ß—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç —ç—Ç—É —Å–∏—Å—Ç–µ–º—É?

1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è:** –ù–µ –æ–¥–∏–Ω test set, –∞ —Å–∏—Å—Ç–µ–º–∞ walk-forward —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞:** –ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è —Å —É—á–µ—Ç–æ–º —Ä–µ–∞–ª—å–Ω—ã—Ö SL/TP
3. **–í—Ä–µ–º–µ–Ω–Ω–æ–π —à—Ç—Ä–∞—Ñ:** –ü—Ä–∏–±—ã–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∑—è—Ç–∞ –±—ã—Å—Ç—Ä–æ
4. **–°—Ç–∞—Ç–∏—á–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:** –ù–∏–∫–∞–∫–∏—Ö –∞–¥–∞–ø—Ç–∞—Ü–∏–π ‚Äî —Ç–æ–ª—å–∫–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è:** –°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ "–ø–æ–Ω–∏–º–∞–µ—Ç", –∫–æ–≥–¥–∞ —É—Å—Ç–∞—Ä–µ–ª–∞

### –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

- **–ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è** —á–µ—Ä–µ–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ OOS-–±–ª–æ–∫–∏
- **–†–µ–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞** –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –æ–±—É—á–µ–Ω–∏–µ
- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:** –Ø—Å–Ω–æ, –Ω–∞ –∫–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ –Ω–∞ –∫–∞–∫–∏—Ö –Ω–µ—Ç
- **–ó–∞—â–∏—Ç–∞:** –ê–≤—Ç–æ—Å—Ç–æ–ø –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏–µ —É–±—ã—Ç–∫–∏

### –ß–µ–≥–æ –ù–ï –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å?

- ‚ùå –û–±—É—á–∞—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–º train/test split
- ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –≤ –æ–±—É—á–µ–Ω–∏–∏
- ‚ùå –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å –ø–æ–¥ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ live-—Ä–µ–∂–∏–º–µ
- ‚ùå –¢–æ—Ä–≥–æ–≤–∞—Ç—å –±–µ–∑ —Å–∏—Å—Ç–µ–º—ã –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ FuncXauusd

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≠—Ç–∞–ø–æ–≤ 1, 3 –∏ 4:

- ‚úÖ **–≠—Ç–∞–ø 1:** `src/labeling/strategies.py` - —Ä–∞–∑–º–µ—Ç–∫–∞ —Å —É—á–µ—Ç–æ–º markup
- ‚úÖ **–≠—Ç–∞–ø 3:** –ü–∞—Ä–∞–º–µ—Ç—Ä—ã SL/TP –≤ `config/training_config.yaml`
- ‚úÖ **–≠—Ç–∞–ø 4:** `src/backtesting/tester.py` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ OOT

**TODO –¥–ª—è –±—É–¥—É—â–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤:**
- [ ] **–≠—Ç–∞–ø 2:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Walk-Forward –≤–∞–ª–∏–¥–∞—Ü–∏—é —Å 10 IS / 5 OOS –±–ª–æ–∫–∞–º–∏
- [ ] **–≠—Ç–∞–ø 5:** –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å `src/execution/live_trader.py`
- [ ] **–≠—Ç–∞–ø 6:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `src/monitoring/degradation_monitor.py`

---

**–°—Ç–∞—Ç—É—Å:** –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø–∏—Å–∞–Ω ‚úÖ  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü–æ—à–∞–≥–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞